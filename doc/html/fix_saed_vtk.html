

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>fix saed/vtk command &mdash; LAMMPS documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/sphinxcontrib-images/LightBox2/lightbox2/css/lightbox.css" type="text/css" />
  

  
    <link rel="top" title="LAMMPS documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="Manual.html" class="icon icon-home"> LAMMPS
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="Section_intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_start.html">2. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_commands.html">3. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_packages.html">4. Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_accelerate.html">5. Accelerating LAMMPS performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_howto.html">6. How-to discussions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_example.html">7. Example problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_perf.html">8. Performance &amp; scalability</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_tools.html">9. Additional tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_modify.html">10. Modifying &amp; extending LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_python.html">11. Python interface to LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_errors.html">12. Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_history.html">13. Future and history</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="Manual.html">LAMMPS</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="Manual.html">Docs</a> &raquo;</li>
      
    <li>fix saed/vtk command</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="http://lammps.sandia.gov">Website</a>
            <a href="Section_commands.html#comm">Commands</a>
        
      </li>
  </ul>
  <hr/>
  
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="fix-saed-vtk-command">
<span id="index-0"></span><h1>fix saed/vtk command</h1>
<div class="section" id="syntax">
<h2>Syntax</h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">fix</span> <span class="n">ID</span> <span class="n">group</span><span class="o">-</span><span class="n">ID</span> <span class="n">saed</span><span class="o">/</span><span class="n">vtk</span> <span class="n">Nevery</span> <span class="n">Nrepeat</span> <span class="n">Nfreak</span> <span class="n">c_ID</span> <span class="n">attribute</span> <span class="n">args</span> <span class="o">...</span> <span class="n">keyword</span> <span class="n">args</span> <span class="o">...</span>
</pre></div>
</div>
<ul class="simple">
<li>ID, group-ID are documented in <a class="reference internal" href="fix.html"><span class="doc">fix</span></a> command</li>
<li>saed/vtk = style name of this fix command</li>
<li>Nevery = use input values every this many timesteps</li>
<li>Nrepeat = # of times to use input values for calculating averages</li>
<li>Nfreq = calculate averages every this many timesteps</li>
<li>c_ID = saed compute ID</li>
</ul>
<pre class="literal-block">
keyword = <em>file</em> or <em>ave</em> or <em>start</em> or <em>file</em> or <em>overwrite</em>:l
  <em>ave</em> args = <em>one</em> or <em>running</em> or <em>window M</em>
    one = output a new average value every Nfreq steps
    running = output cumulative average of all previous Nfreq steps
    window M = output average of M most recent Nfreq steps
  <em>start</em> args = Nstart
    Nstart = start averaging on this timestep
  <em>file</em> arg = filename
    filename = name of file to output time averages to
  <em>overwrite</em> arg = none = overwrite output file with only latest output
</pre>
</div>
<div class="section" id="examples">
<h2>Examples</h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">compute</span> <span class="mi">1</span> <span class="nb">all</span> <span class="n">saed</span> <span class="mf">0.0251</span> <span class="n">Al</span> <span class="n">O</span> <span class="n">Kmax</span> <span class="mf">1.70</span> <span class="n">Zone</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="n">dR_Ewald</span> <span class="mf">0.01</span> <span class="n">c</span> <span class="mf">0.5</span> <span class="mf">0.5</span> <span class="mf">0.5</span>
<span class="n">compute</span> <span class="mi">2</span> <span class="nb">all</span> <span class="n">saed</span> <span class="mf">0.0251</span> <span class="n">Ni</span> <span class="n">Kmax</span> <span class="mf">1.70</span> <span class="n">Zone</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="n">c</span> <span class="mf">0.05</span> <span class="mf">0.05</span> <span class="mf">0.05</span> <span class="n">manual</span> <span class="n">echo</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">fix</span> <span class="n">saed</span><span class="o">/</span><span class="n">vtk</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="n">c_1</span> <span class="n">file</span> <span class="n">Al2O3_001</span><span class="o">.</span><span class="n">saed</span>
<span class="n">fix</span> <span class="n">saed</span><span class="o">/</span><span class="n">vtk</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="n">c_2</span> <span class="n">file</span> <span class="n">Ni_000</span><span class="o">.</span><span class="n">saed</span>
</pre></div>
</div>
</div>
<div class="section" id="description">
<h2>Description</h2>
<p>Time average computed intensities from <a class="reference internal" href="compute_saed.html"><span class="doc">compute saed</span></a> and
write output to a file in the 3rd generation vtk image data format for
visualization directly in parallelized visualization software packages
like ParaView and VisIt. Note that if no time averaging is done, this
command can be used as a convenient way to simply output diffraction
intensities at a single snapshot.</p>
<p>To produce output in the image data vtk format ghost data is added
outside the <em>Kmax</em> range assigned in the compute saed. The ghost data is
assigned a value of -1 and can be removed setting a minimum isovolume
of 0 within the vizualiziton software. SAED images can be created by
visualizing a spherical slice of the data that is centered at
R_Ewald*[h k l]/norm([h k l]), where R_Ewald=1/lambda.</p>
<p>The group specified within this command is ignored. However, note that
specified values may represent calculations performed by saed computes
which store their own &#8220;group&#8221; definitions.</p>
<p>Fix saed/vtk is designed to work only with <a class="reference internal" href="compute_saed.html"><span class="doc">compute saed</span></a>
values, e.g.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">compute</span> <span class="mi">3</span> <span class="n">top</span> <span class="n">saed</span> <span class="mf">0.0251</span> <span class="n">Al</span> <span class="n">O</span>
<span class="n">fix</span> <span class="n">saed</span><span class="o">/</span><span class="n">vtk</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="n">c_3</span> <span class="n">file</span> <span class="n">Al2O3_001</span><span class="o">.</span><span class="n">saed</span>
</pre></div>
</div>
<hr class="docutils" />
<p>The <em>Nevery</em>, <em>Nrepeat</em>, and <em>Nfreq</em> arguments specify on what
timesteps the input values will be used in order to contribute to the
average.  The final averaged quantities are generated on timesteps
that are a multiple of <em>Nfreq</em>.  The average is over <em>Nrepeat</em>
quantities, computed in the preceding portion of the simulation every
<em>Nevery</em> timesteps.  <em>Nfreq</em> must be a multiple of <em>Nevery</em> and
<em>Nevery</em> must be non-zero even if <em>Nrepeat</em> is 1.
Also, the timesteps
contributing to the average value cannot overlap,
i.e. Nrepeat*Nevery can not exceed Nfreq.</p>
<p>For example, if Nevery=2, Nrepeat=6, and Nfreq=100, then values on
timesteps 90,92,94,96,98,100 will be used to compute the final average
on timestep 100.  Similarly for timesteps 190,192,194,196,198,200 on
timestep 200, etc.  If Nrepeat=1 and Nfreq = 100, then no time
averaging is done; values are simply generated on timesteps
100,200,etc.</p>
<hr class="docutils" />
<p>The output for fix ave/time/saed is a file writen with the 3rd generation
vtk image data formatting.  The filename assigned by the <em>file</em> keyword is
appended with _N.vtk where N is an index (0,1,2...) to account for multiple
diffraction intensity outputs.</p>
<p>By default the header contains the following information (with example data):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># vtk DataFile Version 3.0 c_SAED</span>
<span class="n">Image</span> <span class="n">data</span> <span class="nb">set</span>
<span class="n">ASCII</span>
<span class="n">DATASET</span> <span class="n">STRUCTURED_POINTS</span>
<span class="n">DIMENSIONS</span> <span class="mi">337</span> <span class="mi">219</span> <span class="mi">209</span>
<span class="n">ASPECT_RATIO</span> <span class="mf">0.00507953</span> <span class="mf">0.00785161</span> <span class="mf">0.00821458</span>
<span class="n">ORIGIN</span> <span class="o">-</span><span class="mf">0.853361</span> <span class="o">-</span><span class="mf">0.855826</span> <span class="o">-</span><span class="mf">0.854316</span>
<span class="n">POINT_DATA</span> <span class="mi">15424827</span>
<span class="n">SCALARS</span> <span class="n">intensity</span> <span class="nb">float</span>
<span class="n">LOOKUP_TABLE</span> <span class="n">default</span>
<span class="o">...</span><span class="n">data</span>
</pre></div>
</div>
<p>In this example, kspace is sampled across a 337 x 219 x 209 point mesh
where the mesh spacing is approximately 0.005, 0.007, and 0.008
inv(length) units in the k1, k2, and k3 directions, respectively.
The data is shifted by -0.85, -0.85, -0.85 inv(length) units so that
the origin will lie at 0, 0, 0.   Here, 15,424,827 kspace points are
sampled in total.</p>
<hr class="docutils" />
<p>Additional optional keywords also affect the operation of this fix.</p>
<p>The <em>ave</em> keyword determines how the values produced every <em>Nfreq</em>
steps are averaged with values produced on previous steps that were
multiples of <em>Nfreq</em>, before they are accessed by another output
command or written to a file.</p>
<p>If the <em>ave</em> setting is <em>one</em>, then the values produced on timesteps
that are multiples of <em>Nfreq</em> are independent of each other; they are
output as-is without further averaging.</p>
<p>If the <em>ave</em> setting is <em>running</em>, then the values produced on
timesteps that are multiples of <em>Nfreq</em> are summed and averaged in a
cumulative sense before being output.  Each output value is thus the
average of the value produced on that timestep with all preceding
values.  This running average begins when the fix is defined; it can
only be restarted by deleting the fix via the <a class="reference internal" href="unfix.html"><span class="doc">unfix</span></a>
command, or by re-defining the fix by re-specifying it.</p>
<p>If the <em>ave</em> setting is <em>window</em>, then the values produced on
timesteps that are multiples of <em>Nfreq</em> are summed and averaged within
a moving &#8220;window&#8221; of time, so that the last M values are used to
produce the output.  E.g. if M = 3 and Nfreq = 1000, then the output
on step 10000 will be the average of the individual values on steps
8000,9000,10000.  Outputs on early steps will average over less than M
values if they are not available.</p>
<p>The <em>start</em> keyword specifies what timestep averaging will begin on.
The default is step 0.  Often input values can be 0.0 at time 0, so
setting <em>start</em> to a larger value can avoid including a 0.0 in a
running or windowed average.</p>
<p>The <em>file</em> keyword allows a filename to be specified.  Every <em>Nfreq</em>
steps, the vector of saed intensity data is written to a new file using
the 3rd generation vtk format.  The base of each file is assigned by
the <em>file</em> keyword and this string is appended with _N.vtk where N is
an index (0,1,2...) to account for situations with multiple diffraction
intensity outputs.</p>
<p>The <em>overwrite</em> keyword will continuously overwrite the output file
with the latest output, so that it only contains one timestep worth of
output.  This option can only be used with the <em>ave running</em> setting.</p>
</div>
<div class="section" id="restart-fix-modify-output-run-start-stop-minimize-info">
<h2>Restart, fix_modify, output, run start/stop, minimize info</h2>
<p>No information about this fix is written to <a class="reference internal" href="restart.html"><span class="doc">binary restart files</span></a>.  None of the <a class="reference internal" href="fix_modify.html"><span class="doc">fix_modify</span></a> options
are relevant to this fix.</p>
<p>No parameter of this fix can be used with the <em>start/stop</em> keywords of
the <a class="reference internal" href="run.html"><span class="doc">run</span></a> command.  This fix is not invoked during <a class="reference internal" href="minimize.html"><span class="doc">energy minimization</span></a>.</p>
</div>
<div class="section" id="restrictions">
<h2>Restrictions</h2>
<p>The attributes for fix_saed_vtk must match the values assigned in the
associated <a class="reference internal" href="compute_saed.html"><span class="doc">compute_saed</span></a> command.</p>
</div>
<div class="section" id="related-commands">
<h2>Related commands</h2>
<p><a class="reference internal" href="compute_saed.html"><span class="doc">compute_saed</span></a></p>
</div>
<div class="section" id="default">
<h2>Default</h2>
<p>The option defaults are ave = one, start = 0, no file output.</p>
<hr class="docutils" />
<p id="coleman"><strong>(Coleman)</strong> Coleman, Spearot, Capolungo, MSMSE, 21, 055020
(2013).</p>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013 Sandia Corporation.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script type="text/javascript" src="_static/sphinxcontrib-images/LightBox2/lightbox2/js/jquery-1.11.0.min.js"></script>
      <script type="text/javascript" src="_static/sphinxcontrib-images/LightBox2/lightbox2/js/lightbox.min.js"></script>
      <script type="text/javascript" src="_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>